<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="dark light" />
    <title>LM Studio Tray Python Docstrings</title>
    <style>
        :root {
            --bg-color: #0f1221;
            --bg-elev: #131735;
            --text-color: #e6e9ef;
            --muted-text: #b5bfd3;
            --sidebar-bg: #0b0e1f;
            --sidebar-text: #c6d0f5;
            --accent-color: #7aa2f7;
            --accent-2: #9ece6a;
            --accent-3: #bb9af7;
            --border-color: #2a2f4a;
            --code-bg: #141830;
            --highlight: #1b2042;
            --focus: #ffd166;
            --shadow: 0 10px 30px rgba(0,0,0,0.35);
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f6f7fb;
                --bg-elev: #ffffff;
                --text-color: #1c2333;
                --muted-text: #4a5568;
                --sidebar-bg: #eef0f6;
                --sidebar-text: #1c2333;
                --accent-color: #3366ff;
                --accent-2: #2dbf71;
                --accent-3: #7b61ff;
                --border-color: #d7dbe7;
                --code-bg: #f2f4fb;
                --highlight: #e9ecf6;
                --focus: #c471ed;
                --shadow: 0 8px 22px rgba(0,0,0,0.12);
            }
        }
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", Helvetica, Arial;
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100dvh;
        }
        nav {
            background: var(--sidebar-bg);
            padding: 2rem 1rem;
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            height: 100dvh;
            overflow-y: auto;
        }
        nav h2 {
            color: var(--sidebar-text);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 1.5rem 0 0.75rem 0;
            font-weight: 600;
        }
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        nav a {
            display: block;
            color: var(--sidebar-text);
            text-decoration: none;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            margin-bottom: 0.25rem;
            transition: all 0.15s;
            font-size: 0.92rem;
        }
        nav a:hover {
            background: var(--highlight);
            color: var(--accent-color);
            padding-left: 1rem;
        }
        main {
            padding: 3rem 4rem;
            max-width: 1200px;
        }
        h1 {
            font-size: 2.5rem;
            margin: 0 0 0.5rem 0;
            color: var(--text-color);
            font-weight: 700;
        }
        .subtitle {
            color: var(--muted-text);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        .intro {
            background: var(--bg-elev);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }
        section {
            margin-bottom: 3rem;
        }
        h2 {
            font-size: 1.8rem;
            margin: 2.5rem 0 1rem 0;
            color: var(--accent-color);
            font-weight: 600;
        }
        .item {
            background: var(--bg-elev);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }
        .item-header {
            display: flex;
            align-items: baseline;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        .item-name {
            font-family: 'Courier New', Consolas, monospace;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-2);
        }
        .item-type {
            background: var(--code-bg);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: 600;
            color: var(--accent-3);
        }
        .item-signature {
            font-family: 'Courier New', Consolas, monospace;
            background: var(--code-bg);
            padding: 0.75rem;
            border-radius: 4px;
            margin: 0.5rem 0;
            color: var(--text-color);
            overflow-x: auto;
        }
        .item-doc {
            color: var(--text-color);
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .method-section-title {
            margin-top: 1.5rem;
            color: var(--accent-2);
            font-size: 1.1rem;
        }
        .method-item {
            margin-left: 1rem;
            padding: 1rem;
            background: var(--code-bg);
            border-radius: 4px;
            margin-bottom: 0.75rem;
        }
        .no-doc {
            color: var(--muted-text);
            font-style: italic;
        }
        footer {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--muted-text);
            font-size: 0.9rem;
        }
        @media (max-width: 768px) {
            body {
                grid-template-columns: 1fr;
            }
            nav {
                position: static;
                height: auto;
            }
            main {
                padding: 2rem 1.5rem;
            }
        }
    </style>
</head>
<body>
    <nav>
        <h2>Navigation</h2>
        <ul>
            <li><a href="#overview">Overview</a></li>
            <li><a href="#functions">Functions</a></li>
            <li><a href="#classes">Classes</a></li>
        </ul>
    </nav>
    <main>
        <h1>LM Studio Tray Manager</h1>
        <p class="subtitle">Python Docstrings Documentation</p>
        
        <div class="intro" id="overview">
            <p>This documentation provides detailed information about the functions and classes in the LM Studio Tray Manager project.</p>
            <p><strong>Last updated:</strong> 2026-02-23</p>
        </div>

        <section id="functions">
            <h2>Functions</h2>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">load_version_from_dir</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">load_version_from_dir(base_dir)</div>
                <div class="item-doc">Load app version from the VERSION file.

Args:
    base_dir (str): Directory path containing the VERSION file.

Returns:
    str: Version string read from the VERSION file, or DEFAULT_APP_VERSION
        if the file is missing or empty.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_get_default_script_dir</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_get_default_script_dir()</div>
                <div class="item-doc">Get the default script directory.

Returns the directory containing the currently executing script,
or the current working directory if the script path cannot be determined.

Returns:
    str: Absolute path to the script directory.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">parse_args</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">parse_args()</div>
                <div class="item-doc">Parse command-line arguments from sys.argv.

This function reads all arguments and flags provided on the command line
via sys.argv and returns them as a structured namespace object.

Command-line Arguments:
    model (str): Model name to monitor; positional, optional.
    script_dir (str): Script directory for logs; positional, optional.
    --debug, -d (bool): Flag to enable debug logging.
    --auto-start-daemon, -a (bool): Start daemon on launch.
    --gui, -g (bool): Start LM Studio GUI on launch.
    --version, -v (bool): Print version and exit.
    --help (bool): Print help message and exit.

Returns:
    argparse.Namespace: Parsed arguments as an object with attributes
        matching argument names (e.g., namespace.model, namespace.debug).

Raises:
    SystemExit: If --help or --version flags are used, or if the
        argument parser encounters invalid arguments (handled by
        argparse.ArgumentParser).</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">sync_app_state_for_tests</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">sync_app_state_for_tests(gtk_mod, glib_mod, app_mod, gdk_pixbuf_mod, script_dir_val, app_version_val, auto_start_val, gui_mode_val, api_host_val, api_port_val)</div>
                <div class="item-doc">Synchronize test mocks with _AppState and module-level variables.

This public helper function allows tests to update both _AppState
(private class) and module-level variables in a coordinated way,
avoiding direct access to _AppState.

Args:
    gtk_mod (ModuleType, optional): GTK module to set.
    glib_mod (ModuleType, optional): GLib module to set.
    app_mod (ModuleType, optional): AppIndicator3 module to set.
    gdk_pixbuf_mod (ModuleType, optional): GdkPixbuf module to set.
    script_dir_val (str, optional): script_dir value to set.
    app_version_val (str, optional): APP_VERSION value to set.
    auto_start_val (bool, optional): AUTO_START_DAEMON value to set.
    gui_mode_val (bool, optional): GUI_MODE value to set.
    api_host_val (str, optional): API host value to set.
    api_port_val (int, optional): API port value to set.

Returns:
    None.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_app_version</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_app_version()</div>
                <div class="item-doc">Load app version from VERSION file in script directory.

Reads the app version from the VERSION file located in the script
directory. Falls back to DEFAULT_APP_VERSION if the file is missing
or unreadable.

Returns:
    str: Version string read from the VERSION file, or
        DEFAULT_APP_VERSION if loading fails.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">main</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">main()</div>
                <div class="item-doc">Initialize module globals from CLI args and run the tray application.

Parses command-line arguments (from sys.argv) via parse_args(), loads
GTK dependencies, configures logging, and starts the GTK main loop.
Exits immediately when the --version flag is provided, without loading
GTK.

Raises:
    SystemExit: When --version flag is provided (via sys.exit(0)).</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_asset_path</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_asset_path()</div>
                <div class="item-doc">Locate asset file handling both PyInstaller and normal execution.

Searches in this order:
1. sys._MEIPASS/assets/... (PyInstaller bundle)
2. script_dir/assets/... (Release package or source dir)
3. Current working directory/assets/...

Args:
    *path_components: Path components relative to assets/ directory.
        Example: get_asset_path(&quot;img&quot;, &quot;lm-studio-tray-manager.svg&quot;)

Returns:
    str | None: Full path to the asset file if found, None otherwise.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_get_config_path</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_get_config_path()</div>
                <div class="item-doc">Return the user config file path in the home config directory.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_normalize_api_port</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_normalize_api_port(value)</div>
                <div class="item-doc">Normalize and validate the API port value.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">load_config</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">load_config()</div>
                <div class="item-doc">Load config values for the LM Studio API endpoint.

Updates _AppState.API_HOST and _AppState.API_PORT when valid values are
present in the config file.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">save_config</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">save_config(api_host, api_port)</div>
                <div class="item-doc">Persist config values for the LM Studio API endpoint.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_validate_url_scheme</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_validate_url_scheme(url)</div>
                <div class="item-doc">Validate that URL uses only permitted schemes (http/https).

Args:
    url: URL string to validate.

Raises:
    ValueError: If URL scheme is not http or https.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_api_base_url</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_api_base_url()</div>
                <div class="item-doc">Return the base URL for the LM Studio API endpoint.

Constructs the URL using the configured API_HOST and API_PORT
from _AppState.

Returns:
    str: Base API URL in format http://host:port

Raises:
    ValueError: If the API host or port configuration is invalid.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_api_models_url</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_api_models_url()</div>
                <div class="item-doc">Return the full URL for the LM Studio API models endpoint.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_authors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_authors()</div>
                <div class="item-doc">Load authors from AUTHORS file in script directory.

Reads the AUTHORS file located in _AppState.script_dir and parses
author names from markdown list format. If the file cannot be read
or contains no valid authors, a fallback list containing
APP_MAINTAINER is returned instead.

Returns:
    list: List of author name strings extracted from the AUTHORS file.
        If the file cannot be read or contains no valid authors,
        returns a list containing APP_MAINTAINER as a fallback.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">parse_version</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">parse_version(version)</div>
                <div class="item-doc">Parse a version string into a comparable tuple of integers.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">is_newer_version</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">is_newer_version(current, latest)</div>
                <div class="item-doc">Return True when latest is newer than current.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_is_allowed_update_url</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_is_allowed_update_url(url)</div>
                <div class="item-doc">Validate update URL to prevent unsafe schemes or hosts.

Args:
    url: URL string to validate.

Returns:
    bool: True when the URL uses HTTPS and GitHub API host.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_latest_release_version</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_latest_release_version()</div>
                <div class="item-doc">Fetch the latest GitHub release tag name.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_lms_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_lms_cmd()</div>
                <div class="item-doc">Return the LM Studio CLI path if executable or resolve it from PATH.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_llmster_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_llmster_cmd()</div>
                <div class="item-doc">Return llmster executable path from PATH or LM Studio install dir.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_pkill_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_pkill_cmd()</div>
                <div class="item-doc">Return the absolute pkill path from PATH if available.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_notify_send_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_notify_send_cmd()</div>
                <div class="item-doc">Return the absolute notify-send path from PATH if available.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_ps_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_ps_cmd()</div>
                <div class="item-doc">Return the absolute ps path from PATH if available.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_pgrep_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_pgrep_cmd()</div>
                <div class="item-doc">Return the absolute pgrep path from PATH if available.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_dpkg_cmd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_dpkg_cmd()</div>
                <div class="item-doc">Return the absolute dpkg path from PATH if available.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">check_api_models</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">check_api_models()</div>
                <div class="item-doc">Check if any models are loaded via LM Studio API.

Queries the configured API endpoint to check if models are loaded.
This is a fallback when &#x27;lms ps&#x27; fails (e.g., desktop app running
without daemon).

Returns:
    bool: True if at least one model is loaded, False otherwise.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_run_safe_command</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_run_safe_command(command)</div>
                <div class="item-doc">Run a pre-validated command list via subprocess.

The caller MUST ensure that ``command`` only contains trusted,
absolute-path executables resolved through helper functions.

Args:
    command: List of strings forming the command.

Returns:
    CompletedProcess: The completed process result.

Raises:
    ValueError: If command format is invalid or executable is not
        an absolute path.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">is_llmster_running</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">is_llmster_running()</div>
                <div class="item-doc">Return True when a llmster process is currently running.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_desktop_app_pids</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_desktop_app_pids()</div>
                <div class="item-doc">Return PIDs of LM Studio desktop app root processes.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">kill_existing_instances</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">kill_existing_instances()</div>
                <div class="item-doc">Terminate other running instances of this script.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">apply_cli_args</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">apply_cli_args(cls, args)</div>
                <div class="item-doc">Apply parsed command-line arguments to app state.

Args:
    args (argparse.Namespace): Parsed command-line arguments.
        Expected fields: model, script_dir, debug, gui,
        auto_start_daemon.

Returns:
    None.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">set_gtk_modules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">set_gtk_modules(cls, gtk_module, glib_module, app_indicator_module, gdk_pixbuf_module)</div>
                <div class="item-doc">Store imported GTK-related module references on the class.

Args:
    gtk_module (ModuleType): The Gtk module to store as cls.Gtk.
    glib_module (ModuleType): The GLib module to store as cls.GLib.
    app_indicator_module (ModuleType): The AppIndicator3 module
        to store as cls.AppIndicator3.
    gdk_pixbuf_module (ModuleType): The GdkPixbuf module to store
        as cls.GdkPixbuf.

Returns:
    None.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">__init__</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">__init__(self)</div>
                <div class="item-doc">Initialize tray indicator, menu, and periodic status checks.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_maybe_auto_start_daemon</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_maybe_auto_start_daemon(self)</div>
                <div class="item-doc">Start llmster daemon on launch when enabled.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_maybe_start_gui</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_maybe_start_gui(self)</div>
                <div class="item-doc">Start LM Studio GUI on launch when enabled.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">begin_action_cooldown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">begin_action_cooldown(self, action_name, seconds)</div>
                <div class="item-doc">Prevent rapid double-triggering of tray actions.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_schedule_menu_refresh</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_schedule_menu_refresh(self, delay_seconds)</div>
                <div class="item-doc">Schedule a delayed menu refresh when GLib is available.

Args:
    delay_seconds (int): Number of seconds to delay before
        refreshing the menu. Defaults to 2 seconds.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">build_menu</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">build_menu(self)</div>
                <div class="item-doc">Build or rebuild the context menu with current status and
options.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_daemon_status</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_daemon_status(self)</div>
                <div class="item-doc">Check if llmster headless daemon is running.

Returns:
    str: &quot;running&quot; if daemon process is active,
         &quot;stopped&quot; if llmster is installed but daemon not running,
         &quot;not_found&quot; if llmster is not installed.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_desktop_app_status</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_desktop_app_status(self)</div>
                <div class="item-doc">Check if LM Studio desktop app is running.

The desktop app is started via lmstudio_autostart.sh --gui or directly,
and runs WITHOUT the --run-as-service flag.

This is different from the headless daemon (--run-as-service).

Returns:
    str: &quot;running&quot; if desktop app process is active,
         &quot;stopped&quot; if installed but not running,
         &quot;not_found&quot; if not installed.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_status_indicator</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_status_indicator(self, status)</div>
                <div class="item-doc">Convert status string to emoji indicator.

Args:
    status: &quot;running&quot;, &quot;stopped&quot;, or &quot;not_found&quot;

Returns:
    str: Emoji indicator (游릭 running, 游리 stopped, 游댮 not_found)</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_run_validated_command</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_run_validated_command(command)</div>
                <div class="item-doc">Run a pre-validated command list via subprocess.

The caller MUST ensure that ``command`` only contains trusted,
absolute-path executables resolved through ``get_lms_cmd``,
``get_llmster_cmd`` or equivalent helpers.

Args:
    command: List of strings forming the command.

Returns:
    CompletedProcess: The completed process result.

Raises:
    ValueError: If command format is invalid or executable is not
        absolute path.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_run_daemon_attempts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_run_daemon_attempts(self, attempts, stop_when)</div>
                <div class="item-doc">Run daemon command attempts until a condition is met.

Args:
    attempts: Ordered list of command argument lists.
    stop_when: Callable that receives the subprocess result and
        returns True when no further attempts are needed.

Returns:
    CompletedProcess | None: Last command result, or None if no
    command was executed.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_build_daemon_attempts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_build_daemon_attempts(self, action)</div>
                <div class="item-doc">Build ordered daemon CLI attempts for one action.

Args:
    action: Either &quot;start&quot; or &quot;stop&quot;.

Returns:
    list[list[str]]: Commands to try in order.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_force_stop_llmster</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_force_stop_llmster(self)</div>
                <div class="item-doc">Force-stop llmster and wait briefly for process exit.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_stop_llmster_best_effort</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_stop_llmster_best_effort(self)</div>
                <div class="item-doc">Stop llmster with graceful attempts and force-stop fallback.

Returns:
    tuple[bool, CompletedProcess | None]: Tuple containing:
        - True when llmster is no longer running.
        - Last command result used during stop attempts.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_stop_desktop_app_processes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_stop_desktop_app_processes(self)</div>
                <div class="item-doc">Stop LM Studio desktop processes using TERM, then KILL.

Returns:
    bool: True when the desktop app is no longer running.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">start_daemon</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">start_daemon(self, _widget)</div>
                <div class="item-doc">Start the headless daemon.

Stops the desktop app first if needed, then tries daemon start
variants and notifies on success/failure.

Args:
    _widget: Widget that triggered the action (unused).</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">stop_daemon</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">stop_daemon(self, _widget)</div>
                <div class="item-doc">Stop the headless daemon.

Tries graceful stop variants first and falls back to force-stop.

Args:
    _widget: Widget that triggered the action (unused).</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">start_desktop_app</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">start_desktop_app(self, _widget)</div>
                <div class="item-doc">Start the LM Studio desktop app.

Stops the daemon first if needed, locates the app (.deb or AppImage),
and launches it with user notification.

Args:
    _widget: Widget that triggered the action (unused).</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">stop_desktop_app</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">stop_desktop_app(self, _widget)</div>
                <div class="item-doc">Stop the LM Studio desktop app process.

Useful when the window closes to tray but the process remains active.

Args:
    _widget: Widget that triggered the action (unused).</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">quit_app</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">quit_app(self, _widget)</div>
                <div class="item-doc">Handle the tray quit action by logging and exiting the Gtk main
loop.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">show_status_dialog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">show_status_dialog(self, _widget)</div>
                <div class="item-doc">Show a GTK message dialog containing the LM Studio CLI status output.

Runs `lms ps` to retrieve status information. If daemon is not
running, falls back to querying the LM Studio API directly.
Formats a friendly message on success or error, and displays it in
an informational dialog. Errors are caught and shown to the user
instead of raising.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">show_about_dialog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">show_about_dialog(self, _widget)</div>
                <div class="item-doc">Show application information in a GTK dialog.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">show_config_dialog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">show_config_dialog(self, _widget)</div>
                <div class="item-doc">Show configuration dialog for LM Studio API endpoint.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">get_version_label</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">get_version_label(self)</div>
                <div class="item-doc">Return version text with update status for the About dialog.

Returns:
    str: Version text in the format &#x27;&lt;APP_VERSION&gt; (&lt;status&gt;)&#x27;.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_check_updates_tick</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_check_updates_tick(self)</div>
                <div class="item-doc">Run the update check for scheduled timers.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_initial_update_check</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_initial_update_check(self)</div>
                <div class="item-doc">Run a single update check shortly after startup.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_format_update_check_message</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">_format_update_check_message(self, status, latest, error)</div>
                <div class="item-doc">Build the update check notification message.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">manual_check_updates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">manual_check_updates(self, _widget)</div>
                <div class="item-doc">Run update check on demand and notify about the result.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">check_updates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">check_updates(self)</div>
                <div class="item-doc">Check GitHub for a newer release and notify the user.

Returns:
    bool: True if a notification was sent.</div>
            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">check_model</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-signature">check_model(self)</div>
                <div class="item-doc">Check LM Studio runtime/model status and update tray icon.

Updates the tray icon using this schema:
- FAIL: neither daemon nor desktop app is installed
- WARN: neither daemon nor desktop app is running
- INFO: daemon or desktop app is running, but no model loaded
- OK: a model is loaded

Sends desktop notifications when status changes from a
previous non-None state, and logs status changes and errors.

Returns:
    bool: True to indicate the check completed (used for
    scheduled callbacks).</div>
            </div>

        </section>

        <section id="classes">
            <h2>Classes</h2>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">_AppState</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-signature">_AppState()</div>
                <div class="item-doc">Mutable application state shared across the module.</div>
                
                <h3 class="method-section-title">Methods:</h3>

                <div class="method-item">
                    <strong>apply_cli_args()</strong><br/>
                    <div class="item-doc">Apply parsed command-line arguments to app state.

Args:
    args (argparse.Namespace): Parsed command-line arguments.
        Expected fields: model, script_dir, debug, gui,
        auto_start_daemon.

Returns:
    None.</div>
                </div>

                <div class="method-item">
                    <strong>set_gtk_modules()</strong><br/>
                    <div class="item-doc">Store imported GTK-related module references on the class.

Args:
    gtk_module (ModuleType): The Gtk module to store as cls.Gtk.
    glib_module (ModuleType): The GLib module to store as cls.GLib.
    app_indicator_module (ModuleType): The AppIndicator3 module
        to store as cls.AppIndicator3.
    gdk_pixbuf_module (ModuleType): The GdkPixbuf module to store
        as cls.GdkPixbuf.

Returns:
    None.</div>
                </div>

                <div class="method-item">
                    <strong>__init__()</strong><br/>
                    <div class="item-doc">Initialize tray indicator, menu, and periodic status checks.</div>
                </div>

                <div class="method-item">
                    <strong>_maybe_auto_start_daemon()</strong><br/>
                    <div class="item-doc">Start llmster daemon on launch when enabled.</div>
                </div>

                <div class="method-item">
                    <strong>_maybe_start_gui()</strong><br/>
                    <div class="item-doc">Start LM Studio GUI on launch when enabled.</div>
                </div>

                <div class="method-item">
                    <strong>begin_action_cooldown()</strong><br/>
                    <div class="item-doc">Prevent rapid double-triggering of tray actions.</div>
                </div>

                <div class="method-item">
                    <strong>_schedule_menu_refresh()</strong><br/>
                    <div class="item-doc">Schedule a delayed menu refresh when GLib is available.

Args:
    delay_seconds (int): Number of seconds to delay before
        refreshing the menu. Defaults to 2 seconds.</div>
                </div>

                <div class="method-item">
                    <strong>build_menu()</strong><br/>
                    <div class="item-doc">Build or rebuild the context menu with current status and
options.</div>
                </div>

                <div class="method-item">
                    <strong>get_daemon_status()</strong><br/>
                    <div class="item-doc">Check if llmster headless daemon is running.

Returns:
    str: &quot;running&quot; if daemon process is active,
         &quot;stopped&quot; if llmster is installed but daemon not running,
         &quot;not_found&quot; if llmster is not installed.</div>
                </div>

                <div class="method-item">
                    <strong>get_desktop_app_status()</strong><br/>
                    <div class="item-doc">Check if LM Studio desktop app is running.

The desktop app is started via lmstudio_autostart.sh --gui or directly,
and runs WITHOUT the --run-as-service flag.

This is different from the headless daemon (--run-as-service).

Returns:
    str: &quot;running&quot; if desktop app process is active,
         &quot;stopped&quot; if installed but not running,
         &quot;not_found&quot; if not installed.</div>
                </div>

                <div class="method-item">
                    <strong>get_status_indicator()</strong><br/>
                    <div class="item-doc">Convert status string to emoji indicator.

Args:
    status: &quot;running&quot;, &quot;stopped&quot;, or &quot;not_found&quot;

Returns:
    str: Emoji indicator (游릭 running, 游리 stopped, 游댮 not_found)</div>
                </div>

                <div class="method-item">
                    <strong>_run_validated_command()</strong><br/>
                    <div class="item-doc">Run a pre-validated command list via subprocess.

The caller MUST ensure that ``command`` only contains trusted,
absolute-path executables resolved through ``get_lms_cmd``,
``get_llmster_cmd`` or equivalent helpers.

Args:
    command: List of strings forming the command.

Returns:
    CompletedProcess: The completed process result.

Raises:
    ValueError: If command format is invalid or executable is not
        absolute path.</div>
                </div>

                <div class="method-item">
                    <strong>_run_daemon_attempts()</strong><br/>
                    <div class="item-doc">Run daemon command attempts until a condition is met.

Args:
    attempts: Ordered list of command argument lists.
    stop_when: Callable that receives the subprocess result and
        returns True when no further attempts are needed.

Returns:
    CompletedProcess | None: Last command result, or None if no
    command was executed.</div>
                </div>

                <div class="method-item">
                    <strong>_build_daemon_attempts()</strong><br/>
                    <div class="item-doc">Build ordered daemon CLI attempts for one action.

Args:
    action: Either &quot;start&quot; or &quot;stop&quot;.

Returns:
    list[list[str]]: Commands to try in order.</div>
                </div>

                <div class="method-item">
                    <strong>_force_stop_llmster()</strong><br/>
                    <div class="item-doc">Force-stop llmster and wait briefly for process exit.</div>
                </div>

                <div class="method-item">
                    <strong>_stop_llmster_best_effort()</strong><br/>
                    <div class="item-doc">Stop llmster with graceful attempts and force-stop fallback.

Returns:
    tuple[bool, CompletedProcess | None]: Tuple containing:
        - True when llmster is no longer running.
        - Last command result used during stop attempts.</div>
                </div>

                <div class="method-item">
                    <strong>_stop_desktop_app_processes()</strong><br/>
                    <div class="item-doc">Stop LM Studio desktop processes using TERM, then KILL.

Returns:
    bool: True when the desktop app is no longer running.</div>
                </div>

                <div class="method-item">
                    <strong>start_daemon()</strong><br/>
                    <div class="item-doc">Start the headless daemon.

Stops the desktop app first if needed, then tries daemon start
variants and notifies on success/failure.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>stop_daemon()</strong><br/>
                    <div class="item-doc">Stop the headless daemon.

Tries graceful stop variants first and falls back to force-stop.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>start_desktop_app()</strong><br/>
                    <div class="item-doc">Start the LM Studio desktop app.

Stops the daemon first if needed, locates the app (.deb or AppImage),
and launches it with user notification.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>stop_desktop_app()</strong><br/>
                    <div class="item-doc">Stop the LM Studio desktop app process.

Useful when the window closes to tray but the process remains active.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>quit_app()</strong><br/>
                    <div class="item-doc">Handle the tray quit action by logging and exiting the Gtk main
loop.</div>
                </div>

                <div class="method-item">
                    <strong>show_status_dialog()</strong><br/>
                    <div class="item-doc">Show a GTK message dialog containing the LM Studio CLI status output.

Runs `lms ps` to retrieve status information. If daemon is not
running, falls back to querying the LM Studio API directly.
Formats a friendly message on success or error, and displays it in
an informational dialog. Errors are caught and shown to the user
instead of raising.</div>
                </div>

                <div class="method-item">
                    <strong>show_about_dialog()</strong><br/>
                    <div class="item-doc">Show application information in a GTK dialog.</div>
                </div>

                <div class="method-item">
                    <strong>show_config_dialog()</strong><br/>
                    <div class="item-doc">Show configuration dialog for LM Studio API endpoint.</div>
                </div>

                <div class="method-item">
                    <strong>get_version_label()</strong><br/>
                    <div class="item-doc">Return version text with update status for the About dialog.

Returns:
    str: Version text in the format &#x27;&lt;APP_VERSION&gt; (&lt;status&gt;)&#x27;.</div>
                </div>

                <div class="method-item">
                    <strong>_check_updates_tick()</strong><br/>
                    <div class="item-doc">Run the update check for scheduled timers.</div>
                </div>

                <div class="method-item">
                    <strong>_initial_update_check()</strong><br/>
                    <div class="item-doc">Run a single update check shortly after startup.</div>
                </div>

                <div class="method-item">
                    <strong>_format_update_check_message()</strong><br/>
                    <div class="item-doc">Build the update check notification message.</div>
                </div>

                <div class="method-item">
                    <strong>manual_check_updates()</strong><br/>
                    <div class="item-doc">Run update check on demand and notify about the result.</div>
                </div>

                <div class="method-item">
                    <strong>check_updates()</strong><br/>
                    <div class="item-doc">Check GitHub for a newer release and notify the user.

Returns:
    bool: True if a notification was sent.</div>
                </div>

                <div class="method-item">
                    <strong>check_model()</strong><br/>
                    <div class="item-doc">Check LM Studio runtime/model status and update tray icon.

Updates the tray icon using this schema:
- FAIL: neither daemon nor desktop app is installed
- WARN: neither daemon nor desktop app is running
- INFO: daemon or desktop app is running, but no model loaded
- OK: a model is loaded

Sends desktop notifications when status changes from a
previous non-None state, and logs status changes and errors.

Returns:
    bool: True to indicate the check completed (used for
    scheduled callbacks).</div>
                </div>

            </div>

            <div class="item">
                <div class="item-header">
                    <span class="item-name">TrayIcon</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-signature">TrayIcon()</div>
                <div class="item-doc">Manage the GTK tray icon for LM Studio runtime monitoring.

The tray displays runtime status, provides daemon/app controls, and sends
desktop notifications on status transitions.</div>
                
                <h3 class="method-section-title">Methods:</h3>

                <div class="method-item">
                    <strong>apply_cli_args()</strong><br/>
                    <div class="item-doc">Apply parsed command-line arguments to app state.

Args:
    args (argparse.Namespace): Parsed command-line arguments.
        Expected fields: model, script_dir, debug, gui,
        auto_start_daemon.

Returns:
    None.</div>
                </div>

                <div class="method-item">
                    <strong>set_gtk_modules()</strong><br/>
                    <div class="item-doc">Store imported GTK-related module references on the class.

Args:
    gtk_module (ModuleType): The Gtk module to store as cls.Gtk.
    glib_module (ModuleType): The GLib module to store as cls.GLib.
    app_indicator_module (ModuleType): The AppIndicator3 module
        to store as cls.AppIndicator3.
    gdk_pixbuf_module (ModuleType): The GdkPixbuf module to store
        as cls.GdkPixbuf.

Returns:
    None.</div>
                </div>

                <div class="method-item">
                    <strong>__init__()</strong><br/>
                    <div class="item-doc">Initialize tray indicator, menu, and periodic status checks.</div>
                </div>

                <div class="method-item">
                    <strong>_maybe_auto_start_daemon()</strong><br/>
                    <div class="item-doc">Start llmster daemon on launch when enabled.</div>
                </div>

                <div class="method-item">
                    <strong>_maybe_start_gui()</strong><br/>
                    <div class="item-doc">Start LM Studio GUI on launch when enabled.</div>
                </div>

                <div class="method-item">
                    <strong>begin_action_cooldown()</strong><br/>
                    <div class="item-doc">Prevent rapid double-triggering of tray actions.</div>
                </div>

                <div class="method-item">
                    <strong>_schedule_menu_refresh()</strong><br/>
                    <div class="item-doc">Schedule a delayed menu refresh when GLib is available.

Args:
    delay_seconds (int): Number of seconds to delay before
        refreshing the menu. Defaults to 2 seconds.</div>
                </div>

                <div class="method-item">
                    <strong>build_menu()</strong><br/>
                    <div class="item-doc">Build or rebuild the context menu with current status and
options.</div>
                </div>

                <div class="method-item">
                    <strong>get_daemon_status()</strong><br/>
                    <div class="item-doc">Check if llmster headless daemon is running.

Returns:
    str: &quot;running&quot; if daemon process is active,
         &quot;stopped&quot; if llmster is installed but daemon not running,
         &quot;not_found&quot; if llmster is not installed.</div>
                </div>

                <div class="method-item">
                    <strong>get_desktop_app_status()</strong><br/>
                    <div class="item-doc">Check if LM Studio desktop app is running.

The desktop app is started via lmstudio_autostart.sh --gui or directly,
and runs WITHOUT the --run-as-service flag.

This is different from the headless daemon (--run-as-service).

Returns:
    str: &quot;running&quot; if desktop app process is active,
         &quot;stopped&quot; if installed but not running,
         &quot;not_found&quot; if not installed.</div>
                </div>

                <div class="method-item">
                    <strong>get_status_indicator()</strong><br/>
                    <div class="item-doc">Convert status string to emoji indicator.

Args:
    status: &quot;running&quot;, &quot;stopped&quot;, or &quot;not_found&quot;

Returns:
    str: Emoji indicator (游릭 running, 游리 stopped, 游댮 not_found)</div>
                </div>

                <div class="method-item">
                    <strong>_run_validated_command()</strong><br/>
                    <div class="item-doc">Run a pre-validated command list via subprocess.

The caller MUST ensure that ``command`` only contains trusted,
absolute-path executables resolved through ``get_lms_cmd``,
``get_llmster_cmd`` or equivalent helpers.

Args:
    command: List of strings forming the command.

Returns:
    CompletedProcess: The completed process result.

Raises:
    ValueError: If command format is invalid or executable is not
        absolute path.</div>
                </div>

                <div class="method-item">
                    <strong>_run_daemon_attempts()</strong><br/>
                    <div class="item-doc">Run daemon command attempts until a condition is met.

Args:
    attempts: Ordered list of command argument lists.
    stop_when: Callable that receives the subprocess result and
        returns True when no further attempts are needed.

Returns:
    CompletedProcess | None: Last command result, or None if no
    command was executed.</div>
                </div>

                <div class="method-item">
                    <strong>_build_daemon_attempts()</strong><br/>
                    <div class="item-doc">Build ordered daemon CLI attempts for one action.

Args:
    action: Either &quot;start&quot; or &quot;stop&quot;.

Returns:
    list[list[str]]: Commands to try in order.</div>
                </div>

                <div class="method-item">
                    <strong>_force_stop_llmster()</strong><br/>
                    <div class="item-doc">Force-stop llmster and wait briefly for process exit.</div>
                </div>

                <div class="method-item">
                    <strong>_stop_llmster_best_effort()</strong><br/>
                    <div class="item-doc">Stop llmster with graceful attempts and force-stop fallback.

Returns:
    tuple[bool, CompletedProcess | None]: Tuple containing:
        - True when llmster is no longer running.
        - Last command result used during stop attempts.</div>
                </div>

                <div class="method-item">
                    <strong>_stop_desktop_app_processes()</strong><br/>
                    <div class="item-doc">Stop LM Studio desktop processes using TERM, then KILL.

Returns:
    bool: True when the desktop app is no longer running.</div>
                </div>

                <div class="method-item">
                    <strong>start_daemon()</strong><br/>
                    <div class="item-doc">Start the headless daemon.

Stops the desktop app first if needed, then tries daemon start
variants and notifies on success/failure.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>stop_daemon()</strong><br/>
                    <div class="item-doc">Stop the headless daemon.

Tries graceful stop variants first and falls back to force-stop.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>start_desktop_app()</strong><br/>
                    <div class="item-doc">Start the LM Studio desktop app.

Stops the daemon first if needed, locates the app (.deb or AppImage),
and launches it with user notification.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>stop_desktop_app()</strong><br/>
                    <div class="item-doc">Stop the LM Studio desktop app process.

Useful when the window closes to tray but the process remains active.

Args:
    _widget: Widget that triggered the action (unused).</div>
                </div>

                <div class="method-item">
                    <strong>quit_app()</strong><br/>
                    <div class="item-doc">Handle the tray quit action by logging and exiting the Gtk main
loop.</div>
                </div>

                <div class="method-item">
                    <strong>show_status_dialog()</strong><br/>
                    <div class="item-doc">Show a GTK message dialog containing the LM Studio CLI status output.

Runs `lms ps` to retrieve status information. If daemon is not
running, falls back to querying the LM Studio API directly.
Formats a friendly message on success or error, and displays it in
an informational dialog. Errors are caught and shown to the user
instead of raising.</div>
                </div>

                <div class="method-item">
                    <strong>show_about_dialog()</strong><br/>
                    <div class="item-doc">Show application information in a GTK dialog.</div>
                </div>

                <div class="method-item">
                    <strong>show_config_dialog()</strong><br/>
                    <div class="item-doc">Show configuration dialog for LM Studio API endpoint.</div>
                </div>

                <div class="method-item">
                    <strong>get_version_label()</strong><br/>
                    <div class="item-doc">Return version text with update status for the About dialog.

Returns:
    str: Version text in the format &#x27;&lt;APP_VERSION&gt; (&lt;status&gt;)&#x27;.</div>
                </div>

                <div class="method-item">
                    <strong>_check_updates_tick()</strong><br/>
                    <div class="item-doc">Run the update check for scheduled timers.</div>
                </div>

                <div class="method-item">
                    <strong>_initial_update_check()</strong><br/>
                    <div class="item-doc">Run a single update check shortly after startup.</div>
                </div>

                <div class="method-item">
                    <strong>_format_update_check_message()</strong><br/>
                    <div class="item-doc">Build the update check notification message.</div>
                </div>

                <div class="method-item">
                    <strong>manual_check_updates()</strong><br/>
                    <div class="item-doc">Run update check on demand and notify about the result.</div>
                </div>

                <div class="method-item">
                    <strong>check_updates()</strong><br/>
                    <div class="item-doc">Check GitHub for a newer release and notify the user.

Returns:
    bool: True if a notification was sent.</div>
                </div>

                <div class="method-item">
                    <strong>check_model()</strong><br/>
                    <div class="item-doc">Check LM Studio runtime/model status and update tray icon.

Updates the tray icon using this schema:
- FAIL: neither daemon nor desktop app is installed
- WARN: neither daemon nor desktop app is running
- INFO: daemon or desktop app is running, but no model loaded
- OK: a model is loaded

Sends desktop notifications when status changes from a
previous non-None state, and logs status changes and errors.

Returns:
    bool: True to indicate the check completed (used for
    scheduled callbacks).</div>
                </div>

            </div>

        </section>

        <footer>
            <p>&copy; 2026 LM Studio Tray Manager. Documentation generated from Python docstrings.</p>
        </footer>
    </main>
</body>
</html>
